import{u as c,j as e,L as m,t as o}from"./index-3nGxJqN5.js";import{R as d,F as x}from"./react-final-form.es-UR2w0oaO.js";import{b as u,c as g,o as p,s as f}from"./useAuth-EI423n2W.js";import{B as h}from"./Button-CGGwva3R.js";import"./extends-CF3RwP-h.js";import"./axiosinstance-CetVC_8N.js";import"./js.cookie-Cz0CWeBA.js";import"./clsx-B-dksMZM.js";const j="/images/request.svg",b=p({email:f().email("Enter a valid email")});function E(){const l=c(),r=u(),n=async t=>{r.mutate(t,{onSuccess:s=>{o.success(s?.message||"OTP sent successfully!"),l("/reset-password",{state:{email:t.email}})},onError:s=>{console.error("Login failed:",s);const a=s?.response?.data,i=a?.response_data?.errors?.email?.[0]||a?.response_data?.message||"Login failed. Please try again.";o.error(i)}})};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden lg:flex w-1/2 bg-blue-100 items-center justify-center",children:e.jsx("img",{src:j,alt:"Forgot password illustration",className:"max-w-md"})}),e.jsx("div",{className:"flex w-full lg:w-1/2 items-center justify-center px-6",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-2",children:"Forgot Password"}),e.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Enter your email and weâ€™ll send you an OTP to reset your password."}),e.jsx(d,{onSubmit:n,validate:g(b),render:({handleSubmit:t})=>e.jsxs("form",{onSubmit:t,className:"space-y-5",children:[e.jsx(x,{name:"email",children:({input:s,meta:a})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{...s,type:"email",placeholder:"you@example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.touched&&a.error&&e.jsx("span",{className:"text-red-500 text-xs mt-1 block",children:a.error})]})}),e.jsx("div",{className:"w-full ",children:e.jsx(h,{type:"submit",className:"w-full",loading:r.isPending,loadingText:"Signing in...",children:"Send OTP"})})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(m,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Back to Login"})]})})]})})]})}export{E as default};
