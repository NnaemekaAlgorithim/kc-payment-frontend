import{u as x,j as e,L as n,t as l}from"./index-3nGxJqN5.js";import{R as u,F as i}from"./react-final-form.es-UR2w0oaO.js";import{u as g,v as p}from"./useAuth-EI423n2W.js";import{B as h}from"./Button-CGGwva3R.js";import{l as f}from"./schemas-BnTFjTgU.js";import"./extends-CF3RwP-h.js";import"./axiosinstance-CetVC_8N.js";import"./js.cookie-Cz0CWeBA.js";import"./clsx-B-dksMZM.js";const b="/images/login.svg",j={email:"",password:""};function _(){const o=x(),{mutate:d,isPending:c}=g();function m(a){d(a,{onSuccess:t=>{console.log(t,"login response"),t?.success?(l.success("Login successful!"),t.data.user.is_staff?o("/admin/dashboard"):o("/dashboard/")):l.error(t?.message||"Login failed. Please try again.")},onError:t=>{console.error("Login failed:",t);const r=t?.response?.data,s=r?.response_data?.errors?.non_field_errors?.[0]||r?.response_data?.message||"Login failed. Please try again.";l.error(s)}})}return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center px-10 text-white bg-gradient-to-br to-blue-500 from-purple-500",children:e.jsxs("div",{className:"w-[80%]",children:[e.jsx("img",{src:b,alt:"Login Illustration",className:"w-full drop-shadow-2xl"}),e.jsxs("h1",{className:"mt-8 text-4xl font-bold leading-tight text-center",children:["Send money across borders ",e.jsx("br",{})," with ease"]}),e.jsx("p",{className:"mt-4 text-lg text-blue-100 text-center",children:"Fast, secure, and simple payments across borders"})]})}),e.jsx("div",{className:"flex w-full lg:w-1/2 justify-center items-center p-6 sm:p-12",children:e.jsxs("div",{className:"w-full max-w-md p-8 bg-white/80 backdrop-blur-lg rounded-2xl shadow-2xl",children:[e.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Welcome Back!"}),e.jsx("p",{className:"text-sm text-muted mb-8",children:"Enter your details to log in"}),e.jsx(u,{onSubmit:m,initialValues:j,validate:a=>p(f,a),render:({handleSubmit:a,submitting:t})=>e.jsxs("form",{className:"space-y-6",onSubmit:a,children:[e.jsx(i,{name:"email",children:({input:r,meta:s})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{...r,type:"text",placeholder:"Enter your email",className:"w-full px-4 py-3 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),s.touched&&s.error&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.error})]})}),e.jsx(i,{name:"password",children:({input:r,meta:s})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{...r,type:"password",placeholder:"Enter your password",className:"w-full px-4 py-3 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),s.touched&&s.error&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:s.error})]})}),e.jsx("div",{className:"text-right",children:e.jsx(n,{to:"/request-reset",className:"text-sm text-blue-600 font-medium hover:underline",children:"Forgot password?"})}),e.jsx(h,{type:"submit",loading:c,loadingText:"Signing in...",children:"Log In"})]})}),e.jsxs("p",{className:"mt-6 text-sm text-center text-gray-600",children:["Donâ€™t have an account?"," ",e.jsx(n,{to:"/signup",className:"text-blue-600 font-medium hover:underline",children:"Sign up"})]})]})})]})}export{_ as default};
